# Introduction to Database Design (CS 6360)
by [Dr. Murat Kantarcioglu](https://personal.utdallas.edu/~muratk/courses/db22f.html)
----
----
![Project Logo](images/logo/utd-logo.png)

----
Project: 
----

Overview:

Motivated by the recent popularity of non-fungible tokens (NFTs1), a good friend of yours would
like to set up a local shop that can buy/sell NFTs for investors in Dallas based on Ethereum
blockchain2. She asked your help to develop a web based NFT trading application. In particular,
she wants you to create convenient and easy-to-use software for NFT traders who are trying to
buy and sell NFTs. To help your friend, you offer to develop a web based software system called
NTS (NFT Transaction System) that leverage the relational DBMS technology for data storage and querying.

Description:

Based on your interactions with your friend, you gathered the following pieces of information:
NTS will be used by the traders to directly buy and sell NFTs.
- Each trader has a unique client id generated by the system, a name (first and last), a
phone number, a cell-phone number, an e-mail address, and an address (including street
address, city, state, and zip code).
- Each trader is assumed to have unique Ethereum address used for trading NFTs.
- For regulatory reasons, it is important to retrieve the city and zip code information for
each trader easily.
- Each trader is assigned to one of two different levels based on his or her past transaction
volume. Once a trader makes more than $100K in trades (buy or sell) in the previous
month, the client is classified as a “Gold” customer and is charged a different
commission rate for the next month’s transaction. Otherwise, the trader is classified as
“Silver”. This classification will be updated monthly.
- Each NFT has unique token id (see ethereum uint256 type), address of the Ethereum
smart contract used for keeping track of the NFT, and the name (e.g., CryptoKitties).
- When a trader wants to execute a transaction, the trader logs into the online system and
specifies the NFT smart contract address, and the specific token the trader wants to buy
from that address. Of course, system needs to verify the client’s identity by asking the
client to enter a password, and check whether the trader has enough fiat currency (i.e.,
USD) or Ethereum in his/her account.
- The trader should be able to see the NFTs he/she owns and their current market price in
USD and Ethereum. If the trader wants to sell a NFT, the system should check whether
the trader already owns the NFT that he/she is trying to sell.
- The trader also needs to specify whether he or she wants to pay the commission for the
transaction in Ethereum or fiat currency. Based on the trader’s choices, the system places
the order. The system calculates the transaction commission based on the trader’s classification. If the transaction fee is paid in Ethereum, the system automatically adjusts
the amount of Ethereum left in the customer account. On the other hand, if the customer
chooses to pay the commission in fiat currency, the system must automatically compute
the fee based on current Ethereum prices. For example, see 3 on how to get this
information dynamically in your app. This is critical because Ethereum prices can
fluctuate a lot.
- The value of the transaction in Ethereum, the date of the transaction, the commission
paid, the commission type, the NFT address, NFT toked id, the seller Ethereum address
and the buyer Ethereum address should be stored separately for each transaction.
- From time to time, clients will transfer money/Ethreum to their account so that they can
buy more NFTs. For each payment transaction, you need to store the amount paid, the
date, type of the payment and the id related to the trader who submitted the payment, and
the payment address (e.g., bank account number of fiat currency, Ethereum address for
Ethereum payments). In your application, you may assume that all the payment
transactions will be successful.
- In some cases, traders may want to cancel certain payment and NFT transactions.
Although the system should allow such cancellations up to 15 mins after the transaction
submission, logs should be stored for such cancelations for auditing purposes.
- You should allow a trader to search his/her transaction history.
- You should also provide an interface for the manager that can give aggregate information
for daily, weekly and monthly total transactions based on the dates entered by the
manager.

Useful Links:
- [https://www.investopedia.com/non-fungible-tokens-nft-5115211](https://www.investopedia.com/non-fungible-tokens-nft-5115211)
- [https://ethereum.org/en/nft/](https://ethereum.org/en/nft/)
- [https://docs.cloud.coinbase.com/sign-in-with-coinbase/docs/api-prices](https://docs.cloud.coinbase.com/sign-in-with-coinbase/docs/api-prices)

Entity–Relationship Design
----

![ER Diagram](images/diagram/NFT.drawio.png)

User Management API’s
----

| #   | URL                                                                                                                                                                                                                  | Type | Description                                                                                              |
|-----|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------|----------------------------------------------------------------------------------------------------------|
| 1   | [*localhost:8080/nts/users*](localhost:8080/nts/users)                                                                                                                                                       | GET  | Gets all the list of users and their details                                                             |
| 2   | [*localhost:8080/nts/users?clientId=1*](localhost:8080/nts/users?clientId=1)                                                                                                                                 | GET  | Gets all the details of the user based on the Client ID                                                  |
| 3   | [*localhost:8080/nts/addUsers*](localhost:8080/nts/addUsers)                                                                                                                                                 | POST | Adds a new user to the Database                                                                          |
| 4   | [*localhost:8080/nts/nfts*](localhost:8080/nts/nfts)                                                                                                                                                         | GET  | Returns all the NFT's available                                                                          |
| 5   | [*localhost:8080/nts/v1/nft?contractEthereumAddress=9a6eab44-5195-11ed-83af-004e01c09a92*](localhost:8080/nts/v1/nft?contractEthereumAddress=9a6eab44-5195-11ed-83af-004e01c09a92)                           | GET  | Returns all the NFT’s available with the contractEthereumAddress                                         |
| 6   | [*localhost:8080/nts/v1/nft?contractEthereumAddress=9a6eab44-5195-11ed-83af-004e01c09a92*](localhost:8080/nts/v1/nft?contractEthereumAddress=9a6eab44-5195-11ed-83af-004e01c09a92)                           | GET  | Returns get the NFT available with the Token ID                                                          |
| 7   | [*localhost:8080/nts/create/nfts?name=Navaneeths first c code&ethPrice=100&noOfCopies=3&clientId=1000*](localhost:8080/nts/create/nfts?name=Navaneeths first c code&ethPrice=100&noOfCopies=3&clientId=1000) | -    | Creates the NFT's (No.of copies and the amount can be specified) Ownership is also taken care implicity Client id verification is also taken care |
| 8   | [*localhost:8080/nts/v1/nft?contractEthereumAddress=9a6eab44-5195-11ed-83af-004e01c09a92*](localhost:8080/nts/v1/nft?contractEthereumAddress=9a6eab44-5195-11ed-83af-004e01c09a92)                           | -    | Returns get the NFT available with the Token ID                                                          |

Note: When your server runs then replace **localhost:8080** with the new IP and Port, i.e. **34.66.65.153:8080**

Setup Instructions
----

```
git clone https://github.com/CS6360NTS/nts_ui
cd nts_ui

```

Examples
----

```

```
```json
{
    "customerList": [
        {
            "clientId": 1,
            "firstName": "Navaneeth Kumar",
            "lastName": "Buddi",
            "emailId": "navaneethkumar.buddi@gmail.com",
            "phoneNumber": "9452449423",
            "cellPhoneNumber": "7259047234",
            "userType": "T",
            "streetAddress": "9693 Baltic LN",
            "city": "Frisco",
            "state": "Texas",
            "zipCode": "75030",
            "password": "password"
        },
        {
            "clientId": 2,
            "firstName": "Indu",
            "lastName": "C",
            "emailId": "indu.c@gmail.com",
            "phoneNumber": "9452449423",
            "cellPhoneNumber": "7259047234",
            "userType": "T",
            "streetAddress": "9693 Baltic LN",
            "city": "Frisco",
            "state": "Texas",
            "zipCode": "75030",
            "password": "password"
        },
        {
            "clientId": 3,
            "firstName": "Navaneeth Kumar",
            "lastName": "Buddi",
            "emailId": "navaneethkumar.buddi@gmail.com",
            "phoneNumber": "9452449423",
            "cellPhoneNumber": "7259047234",
            "userType": "M",
            "streetAddress": "9693 Baltic LN",
            "city": "Frisco",
            "state": "Texas",
            "zipCode": "75030",
            "password": "password"
        },
        {
            "clientId": 4,
            "firstName": "Indu",
            "lastName": "C",
            "emailId": "indu.c@gmail.com",
            "phoneNumber": "9452449423",
            "cellPhoneNumber": "7259047234",
            "userType": "M",
            "streetAddress": "9693 Baltic LN",
            "city": "Frisco",
            "state": "Texas",
            "zipCode": "75030",
            "password": "password"
        }
    ],
    "serverResponse": {
        "responseCode": 200,
        "errorMessage": "SUCCESS",
        "success": true
    }
}
```

## The Team
| Name                                                          | Contact |
|---------------------------------------------------------------|---------|
| [Navaneeth Kumar Buddi](navaneethkumar.buddi@utdallas.edu)    | [navaneethkumar.buddi@utdallas.edu](navaneethkumar.buddi@utdallas.edu) |
| [Indupriya Chegireddy](indupriya.chegireddy@utdallas.edu)     | [indupriya.chegireddy@utdallas.edu](indupriya.chegireddy@utdallas.edu) |
| [Harshavardhini Sridhar](harshavardhini.sridhar@utdallas.edu) | [harshavardhini.sridhar@utdallas.edu](harshavardhini.sridhar@utdallas.edu) | 
| [Christos Vasileiou](christos.vasileiou@utdallas.edu)         | [christos.vasileiou@utdallas.edu](christos.vasileiou@utdallas.edu) |
|  [Dibyanshi Singh](dibyanshi.singh@utdallas.edu) | [dibyanshi.singh@utdallas.edu](dibyanshi.singh@utdallas.edu) |

